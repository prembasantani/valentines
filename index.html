<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Will you be my Valentine?</title>

		<script src="https://cdn.tailwindcss.com"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

		<style>
			:root {
				--pink1: #ffd6e8;
				--pink2: #ffb3cf;
				--accent: #ff6b9a;
				--success1: #d1fae5;
				--success2: #bbf7d0;
			}
			html,
			body {
				height: 100%;
			}
			body {
				background:
					radial-gradient(circle at 10% 20%, var(--pink1), transparent 20%),
					radial-gradient(circle at 90% 80%, var(--pink2), transparent 20%),
					linear-gradient(180deg, #fff0f6, #ffecf3 60%);
				display: flex;
				align-items: center;
				justify-content: center;
				overflow: hidden;
				font-family:
					Inter,
					system-ui,
					-apple-system,
					"Segoe UI",
					Roboto,
					"Helvetica Neue",
					Arial;
				transition: background 600ms ease;
			}

			#mainContent > div {
				padding: 28px;
			}

			.card-custom {
				background: rgba(255, 255, 255, 0.85);
				border-radius: 20px;
				box-shadow: 0 8px 30px rgba(203, 25, 86, 0.12);
				max-width: 720px;
				width: 95%;
				text-align: center;
			}

			.question {
				font-size: clamp(1.4rem, 2.8vw, 2.5rem);
				font-weight: 700;
				color: #7b0838;
			}

			/* Button area */
			#btnArea {
				/* position: relative; */
				height: 140px;
			}

			#noBtn {
				position: absolute;
				/* right: 12%;
				top: 35%; */
				transition:
					left 200ms cubic-bezier(0.2, 0.8, 0.2, 1),
					top 200ms cubic-bezier(0.2, 0.8, 0.2, 1);
			}
			#yesBtn {
				position: relative;
				z-index: 2;
			}

			/* Heart float decor */
			.heart {
				position: absolute;
				font-size: 28px;
				animation: floaty 6s linear infinite;
				opacity: 0.9;
			}
			.heart.one {
				left: 6%;
				top: 6%;
				animation-duration: 7s;
				color: #ff6b9a;
			}
			.heart.two {
				right: 8%;
				top: 10%;
				animation-duration: 5s;
				color: #ff98b2;
			}
			.heart.three {
				left: 6%;
				bottom: 6%;
				animation-duration: 8s;
				color: #ff6b9a;
			}
			.heart.four {
				right: 6%;
				bottom: 6%;
				animation-duration: 8s;
				color: #ff6b9a;
			}

			@keyframes floaty {
				0% {
					transform: translateY(0) scale(1);
				}
				50% {
					transform: translateY(-18px) scale(1.06);
				}
				100% {
					transform: translateY(0) scale(1);
				}
			}

			/* Success theme */
			body.success-bg {
				background: linear-gradient(180deg, var(--success1), var(--success2));
			}

			/* Choice list */
			.choice-card {
				cursor: pointer;
			}

			/* Mobile responsiveness: stack buttons and increase tap targets */
			@media (max-width: 576px) {
				#btnArea {
					height: auto;
					flex-direction: column !important;
					gap: 0.5rem;
					padding: 12px 0;
				}

				#yesBtn,
				#noBtn {
					width: 90%;
					margin: 0.4rem auto;
					font-size: 1.05rem;
					padding: 14px 18px;
				}
				#noBtn {
					position: static !important;
					transform: none !important;
				}

				#mainContent > div {
					padding: 18px;
				}

				.card-custom {
					border-radius: 16px;
				}
			}

			/* Slight larger buttons for comfortable tapping */
			#yesBtn,
			#noBtn {
				touch-action: manipulation;
			}
		</style>
	</head>
	<body>
		<div id="evilMsg" style="position: absolute; top: 112px"></div>

		<div class="card-custom shadow-lg">
			<div class="heart one">â¤ï¸</div>
			<div class="heart two">ğŸ’˜</div>
			<div class="heart three">ğŸ’•</div>
			<div class="heart four">ğŸ’•</div>
			<div id="mainContent">
				<div>
					<h1 id="mainText" class="question">Will you be my Valentine Debasreeta?</h1>
					<p class="text-danger mt-2">( I dare you to click <strong>No</strong>! )</p>
				</div>
				<div id="btnArea" class="d-flex align-items-center justify-content-center">
					<button
						id="yesBtn"
						class="btn btn-lg btn-pink me-3"
						style="
							background: var(--accent);
							color: white;
							border: none;
							box-shadow: 0 6px 18px rgba(255, 107, 154, 0.2);
							border-radius: 10px;
							padding: 10px 18px;
						"
					>
						Yes â¤ï¸
					</button>

					<button
						id="noBtn"
						class="btn btn-outline-dark btn-lg"
						style="background: white; color: black; border-radius: 10px; padding: 10px 18px"
					>
						No ğŸ˜ˆ
					</button>
				</div>
			</div>
		</div>

		<!-- Evil Modal -->
		<div class="modal fade" id="evilModal" tabindex="-1" aria-labelledby="evilModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="evilModalLabel">Oh no... ğŸ˜ˆ</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body text-center">
						<p class="mb-3">You clicked <strong>No</strong> â€” brave choice, but beware!</p>
						<p class="fs-5 text-danger">The cookies will be replaced by broccoli. Forever.</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-success" data-bs-dismiss="modal">
							Try Again Baby â¤ï¸ğŸ˜ˆ
						</button>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

		<script>
			document.addEventListener("DOMContentLoaded", () => {
				function reset() {
					const noBtn = document.getElementById("noBtn");
					const yesBtn = document.getElementById("yesBtn");
					const area = document.getElementById("btnArea");
					const mainText = document.getElementById("mainText");

					const isTouch = "ontouchstart" in window || navigator.maxTouchPoints > 0;
					const rect = area.getBoundingClientRect();
					const yesBtnrect = yesBtn.getBoundingClientRect();

					if (!isTouch) {
						const moveNo = () => {
							const btnRect = noBtn.getBoundingClientRect();

							// translate relative to the current position so the button stays inside
							const tx = Math.max(
								0,
								Math.floor(Math.random() * (rect.right - rect.left) + rect.left) - btnRect.width,
							);
							const ty = Math.max(
								0,
								Math.floor(Math.random() * (rect.bottom - rect.top) + rect.top) - btnRect.height,
							);

							noBtn.style.left = `${tx}px`;
							noBtn.style.top = `${ty}px`;
						};

						noBtn.removeEventListener("mouseenter", moveNo);
						noBtn.removeEventListener("focus", moveNo);

						noBtn.addEventListener("mouseenter", moveNo);
						noBtn.addEventListener("focus", moveNo);

						noBtn.style.left = `${Math.floor(yesBtnrect.x + yesBtnrect.width + 5)}px`;
						noBtn.style.top = `${Math.floor(yesBtnrect.y)}px`;

						// accessibility: move when arrow keys hover over no button when focused
						noBtn.addEventListener("keydown", (e) => {
							if (e.key === "Enter" || e.key === " ") {
								e.preventDefault();
								moveNo();
							}
						});
					} else {
						const openEvilModal = (e) => {
							const modalEl = document.getElementById("evilModal");
							const bsModal = new bootstrap.Modal(modalEl);
							bsModal.show();
						};

						noBtn.removeEventListener("click", openEvilModal);
						noBtn.addEventListener("click", openEvilModal);
					}

					document.querySelectorAll(".redHeart").forEach((h) => h.remove());
					document.querySelectorAll(".greenHeart").forEach((h) => h.remove());

					for (let i = 0; i < 100; i++) {
						const h = document.createElement("div");
						h.className = "heart redHeart";
						h.textContent = "â¤ï¸";
						h.style.left = Math.max(0, Math.random() * 100) + "%";
						h.style.top = Math.max(0, Math.random() * 100) + "%";
						h.style.zIndex = -1;
						h.style.fontSize = 12 + Math.random() * 36 + "px";
						h.style.animationDuration = 4 + Math.random() * 6 + "s";
						document.body.appendChild(h);
					}

					const yesClick = () => {
						document.body.classList.add("success-bg");

						const successText = `<div>
								<h1 class="question text-success">You made the right choice! ğŸŒŸ</h1>
							<br>
							<div class="list-group mb-3" id="choices">
								<div class="choice-card active">
									<strong>
										Since you said yes, here are some compliments just for you:
									</strong>
									<ul class="mt-2 text-start" style="list-style-type: disc; padding-left: 20px">
										<li>You make my heart skip a beat</li>
										<li>Your smile is my favorite sight, and your laugh is my favorite sound.</li>
										<li>With you, even the simplest moments become unforgettable adventures.</li>
										<li>You understand me in ways no one else does, and that means the world to me.</li>
										<li>Every day with you feels like a new chapter in the best love story ever written.</li>
										<li>You're my sweetest hello and hardest goodbye.</li>
									</ul>
								</div>
								<button id="resetBtn" class="btn btn-success mt-3">Want to try again?</button>
							</div>
						</div>`;

						document.getElementById("mainContent").innerHTML = successText;

						document.getElementById("resetBtn").addEventListener("click", () => location.reload());
						document.querySelectorAll(".redHeart").forEach((h) => h.remove());

						for (let i = 0; i < 100; i++) {
							const h = document.createElement("div");
							h.className = "heart greenHeart";
							h.textContent = "ğŸ’š";
							h.style.left = Math.max(0, Math.random() * 100) + "%";
							h.style.top = Math.max(0, Math.random() * 100) + "%";
							h.style.zIndex = -1;
							h.style.fontSize = 12 + Math.random() * 36 + "px";
							h.style.animationDuration = 4 + Math.random() * 6 + "s";
							document.body.appendChild(h);
						}
					};

					yesBtn.removeEventListener("click", yesClick);
					yesBtn.addEventListener("click", yesClick);
				}

				reset();

				window.addEventListener("resize", () => {
					const yesBtn = document.getElementById("yesBtn");
					const yesBtnrect = yesBtn.getBoundingClientRect();

					const noBtn = document.getElementById("noBtn");

					noBtn.style.left = `${Math.floor(yesBtnrect.x + yesBtnrect.width + 5)}px`;
					noBtn.style.top = `${Math.floor(yesBtnrect.y)}px`;
				});
			});
		</script>
	</body>
</html>
